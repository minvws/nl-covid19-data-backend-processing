CREATE TABLE [VWSDEST].[RESULTS_PER_REGION] (
    [ID]                                           INT             DEFAULT (NEXT VALUE FOR [dbo].[SEQ_VWSDEST_RESULTS_PER_REGION]) NOT NULL,
    [DATE_OF_REPORT]                               DATETIME        NULL,
    [DATE_OF_REPORT_UNIX]                          BIGINT          NULL,
    [VRCODE]                                       VARCHAR (100)   NULL,
    [TOTAL_REPORTED_INCREASE_PER_REGION]           INT             NULL,
    [INFECTED_TOTAL_COUNTS_PER_REGION]             DECIMAL (16, 1) NULL,
    [HOSPITAL_TOTAL_COUNTS_PER_REGION]             DECIMAL (16, 1) NULL,
    [INFECTED_INCREASE_PER_REGION]                 DECIMAL (16, 1) NULL,
    [HOSPITAL_INCREASE_PER_REGION]                 DECIMAL (16, 1) NULL,
    [INFECTED_MOVING_AVG_PER_REGION]               DECIMAL (16, 1) NULL,
    [HOSPITAL_MOVING_AVG_PER_REGION]               DECIMAL (16, 1) NULL,
    [DATE_LAST_INSERTED]                           DATETIME        DEFAULT (getdate()) NULL,
    [DECEASED]                                     INT             NULL,
    [ACTIVE_CLUSTERS]                              INT             NULL,
    [CLUSTER_AVERAGE]                              DECIMAL (16, 1) NULL,
    [ROUNDED_REPORTED_PER_REGION_100000_LAST_WEEK] INT             NULL,
    [DATE_RANGE_START]                             DATETIME        NULL,
    [7D_AVERAGE_INFECTED_DAILY_INCREASE_ABSOLUTE]  DECIMAL (16, 2) NULL,
    [DATE_RANGE_START_LAG]                         DATETIME        NULL,
    [7D_AVERAGE_INCREASE_INFECTED_PER_100000]      DECIMAL (16, 2) NULL,
    [7D_AVERAGE_INCREASE_INFECTED_PER_100000_LAG]  DECIMAL (16, 2) NULL,
    PRIMARY KEY CLUSTERED ([ID] ASC)
);


GO
CREATE NONCLUSTERED INDEX [IX_RESULTS_PER_REGION_VRCODE_DATE_RANGE_START]
    ON [VWSDEST].[RESULTS_PER_REGION]([VRCODE] ASC, [DATE_RANGE_START] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [DATE_LAST_INSERTED], [ROUNDED_REPORTED_PER_REGION_100000_LAST_WEEK]);


GO
CREATE NONCLUSTERED INDEX [IX_RESULTS_PER_REGION_VRCODE_DATE_OF_REPORT]
    ON [VWSDEST].[RESULTS_PER_REGION]([VRCODE] ASC, [DATE_OF_REPORT] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [TOTAL_REPORTED_INCREASE_PER_REGION], [INFECTED_TOTAL_COUNTS_PER_REGION], [INFECTED_INCREASE_PER_REGION], [DATE_LAST_INSERTED], [7D_AVERAGE_INCREASE_INFECTED_PER_100000]);


GO
CREATE NONCLUSTERED INDEX [IX_RESULTS_PER_REGION_VRCODE_DATE_LAST_INSERTED_DATE_RANGE_START]
    ON [VWSDEST].[RESULTS_PER_REGION]([VRCODE] ASC, [DATE_LAST_INSERTED] ASC, [DATE_RANGE_START] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [ROUNDED_REPORTED_PER_REGION_100000_LAST_WEEK]);


GO
CREATE NONCLUSTERED INDEX [IX_RESULTS_PER_REGION_VRCODE_DATE_LAST_INSERTED_DATE_OF_REPORT]
    ON [VWSDEST].[RESULTS_PER_REGION]([VRCODE] ASC, [DATE_LAST_INSERTED] ASC, [DATE_OF_REPORT] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [TOTAL_REPORTED_INCREASE_PER_REGION], [INFECTED_TOTAL_COUNTS_PER_REGION], [INFECTED_INCREASE_PER_REGION], [7D_AVERAGE_INCREASE_INFECTED_PER_100000]);


GO
CREATE NONCLUSTERED INDEX [IX_POSITIVE_TESTED_PEOPLE_PER_REGION_DOR_VR]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_OF_REPORT] ASC, [VRCODE] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [TOTAL_REPORTED_INCREASE_PER_REGION], [INFECTED_INCREASE_PER_REGION], [DATE_LAST_INSERTED]);


GO
CREATE NONCLUSTERED INDEX [IX_POSITIVE_TESTED_PEOPLE_PER_REGION_DLI_DOR]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_OF_REPORT] ASC, [DATE_LAST_INSERTED] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [VRCODE], [TOTAL_REPORTED_INCREASE_PER_REGION], [INFECTED_INCREASE_PER_REGION]);


GO
CREATE NONCLUSTERED INDEX [IX_DIFFERENCE_RESULTS_PER_REGION__TOTAL_REPORTED_INCREASE_PER_REGION_DOR_DLI]
    ON [VWSDEST].[RESULTS_PER_REGION]([VRCODE] ASC, [DATE_OF_REPORT] ASC, [DATE_LAST_INSERTED] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [HOSPITAL_TOTAL_COUNTS_PER_REGION]);


GO
CREATE NONCLUSTERED INDEX [IX_DIFFERENCE_RESULTS_PER_REGION__TOTAL_REPORTED_INCREASE_PER_REGION_DLI_DOR]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_LAST_INSERTED] ASC, [DATE_OF_REPORT] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [VRCODE], [TOTAL_REPORTED_INCREASE_PER_REGION]);


GO
CREATE NONCLUSTERED INDEX [IX_DIFFERENCE_RESULTS_PER_REGION__HOSPITAL_TOTAL_COUNTS_PER_REGION]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_LAST_INSERTED] ASC, [DATE_OF_REPORT] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [VRCODE], [HOSPITAL_TOTAL_COUNTS_PER_REGION]);


GO
CREATE NONCLUSTERED INDEX [IX_DIFFERENCE_RESULTS_PER_REGION__HOSPITAL_MOVING_AVG_PER_REGION_VR_DOR]
    ON [VWSDEST].[RESULTS_PER_REGION]([VRCODE] ASC, [DATE_OF_REPORT] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [HOSPITAL_MOVING_AVG_PER_REGION], [DATE_LAST_INSERTED]);


GO
CREATE NONCLUSTERED INDEX [IX_DIFFERENCE_RESULTS_PER_REGION__HOSPITAL_MOVING_AVG_PER_REGION_DOR_DLI]
    ON [VWSDEST].[RESULTS_PER_REGION]([VRCODE] ASC, [DATE_OF_REPORT] ASC, [DATE_LAST_INSERTED] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [HOSPITAL_TOTAL_COUNTS_PER_REGION]);


GO
CREATE NONCLUSTERED INDEX [IX_DIFFERENCE_RESULTS_PER_REGION__HOSPITAL_MOVING_AVG_PER_REGION_DLIR_DOR]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_LAST_INSERTED] ASC, [DATE_OF_REPORT] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [VRCODE], [HOSPITAL_MOVING_AVG_PER_REGION]);


GO
CREATE NONCLUSTERED INDEX [IX_DEST_RESULTS_PER_REGION_DOR_VR_HA]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_OF_REPORT] ASC, [VRCODE] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [HOSPITAL_INCREASE_PER_REGION], [DATE_LAST_INSERTED]);


GO
CREATE NONCLUSTERED INDEX [IX_DEST_RESULTS_PER_REGION_DOR_VR_DC]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_OF_REPORT] ASC, [VRCODE] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [DATE_LAST_INSERTED], [DECEASED]);


GO
CREATE NONCLUSTERED INDEX [IX_DEST_RESULTS_PER_REGION_DOR_VR]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_OF_REPORT] ASC, [VRCODE] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [INFECTED_INCREASE_PER_REGION], [DATE_LAST_INSERTED]);


GO
CREATE NONCLUSTERED INDEX [IX_DEST_RESULTS_PER_REGION_DOR]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_OF_REPORT] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [VRCODE], [TOTAL_REPORTED_INCREASE_PER_REGION], [INFECTED_TOTAL_COUNTS_PER_REGION], [INFECTED_INCREASE_PER_REGION], [DATE_LAST_INSERTED]);


GO
CREATE NONCLUSTERED INDEX [IX_DEST_RESULTS_PER_REGION_DLI_TRIPR_ITCPR]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_LAST_INSERTED] ASC)
    INCLUDE([TOTAL_REPORTED_INCREASE_PER_REGION], [INFECTED_TOTAL_COUNTS_PER_REGION], [HOSPITAL_TOTAL_COUNTS_PER_REGION], [INFECTED_INCREASE_PER_REGION], [HOSPITAL_INCREASE_PER_REGION], [HOSPITAL_MOVING_AVG_PER_REGION]);


GO
CREATE NONCLUSTERED INDEX [IX_DEST_RESULTS_PER_REGION_DLI_TRIPR]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_LAST_INSERTED] ASC)
    INCLUDE([TOTAL_REPORTED_INCREASE_PER_REGION], [INFECTED_TOTAL_COUNTS_PER_REGION], [HOSPITAL_TOTAL_COUNTS_PER_REGION], [INFECTED_INCREASE_PER_REGION], [HOSPITAL_INCREASE_PER_REGION], [HOSPITAL_MOVING_AVG_PER_REGION]);


GO
CREATE NONCLUSTERED INDEX [IX_DEST_RESULTS_PER_REGION_DLI_DOR_HA]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_LAST_INSERTED] ASC, [DATE_OF_REPORT] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [VRCODE], [HOSPITAL_INCREASE_PER_REGION]);


GO
CREATE NONCLUSTERED INDEX [IX_DEST_RESULTS_PER_REGION_DLI_DOR_DC]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_LAST_INSERTED] ASC, [DATE_OF_REPORT] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [VRCODE], [DECEASED]);


GO
CREATE NONCLUSTERED INDEX [IX_DEST_RESULTS_PER_REGION_DLI_DOR]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_LAST_INSERTED] ASC, [DATE_OF_REPORT] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [VRCODE], [INFECTED_INCREASE_PER_REGION]);


GO
CREATE NONCLUSTERED INDEX [IX_DEST_RESULTS_PER_REGION_DLI]
    ON [VWSDEST].[RESULTS_PER_REGION]([DATE_LAST_INSERTED] ASC, [DATE_OF_REPORT] ASC)
    INCLUDE([DATE_OF_REPORT_UNIX], [VRCODE], [TOTAL_REPORTED_INCREASE_PER_REGION], [INFECTED_TOTAL_COUNTS_PER_REGION], [INFECTED_INCREASE_PER_REGION]);

